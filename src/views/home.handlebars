
<div id="menu">
    <ul id="menuOptions">
        <li class="menuLi"><a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer">Chat</a></li>
        <li class="menuLi"><a href="http://localhost:8080/products" target="_blank" rel="noopener noreferrer">Productos.view</a></li>
        <li class="menuLi"><a href="http://localhost:8080/carts" target="_blank" rel="noopener noreferrer">Carritos.view</a></li>
        </ul>
</div>

<h3>Productos que no se actualizan en tiempo real:</h3>
<ul id="productList"></ul>
<script>
    window.addEventListener('load', function() {
        console.log('home.handlebars activada');
        const productList = document.getElementById("productList");
        fetch('/api/products') // Hacer una solicitud HTTP al servidor para obtener los productos iniciales
        .then(response => response.json())
        .then(data => {
            console.log('Productos obtenidos del servidor:', data.products); // Agregar el console.log
            // Renderizar los productos en la página
            data.products.forEach(product => {
            const li = document.createElement("li");
            li.textContent = `Título: ${product.title}, Precio: ${product.price}`;
            productList.appendChild(li);
            });
        })
        .catch(error => {
            console.error('Error al obtener productos:', error);
        });
    });
</script>